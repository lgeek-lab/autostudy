# 🎥 视频自动处理功能指南

## ✨ 新功能特性

### 自动视频处理
- 🔍 **智能检测**：自动识别页面中的视频内容
- 🔇 **自动静音**：检测到视频时立即静音播放
- ⚡ **倍速播放**：自动调整到设定的播放倍速（默认2倍）
- ⏱️ **播放监控**：等待视频播放完成后自动继续学习

### 通知频率控制
- 📊 **智能限频**：避免通知过于频繁打扰学习
- 🎯 **重要通知**：关键状态变化强制显示
- ⚙️ **可配置间隔**：自定义通知显示频率

## 🚀 使用方法

### 1. 基本使用
1. 访问课程页面并启动插件
2. 插件会自动检测页面中的视频
3. 检测到视频时会显示通知并自动处理
4. 视频播放完成后自动继续滚动页面

### 2. 视频处理流程
```
页面加载 → 滚动页面 → 检测视频 → 静音+倍速 → 监控播放 → 播放完成 → 继续滚动 → 点击下一页
```

### 3. 配置优化
进入插件设置页面可以调整：

**视频相关设置：**
- **视频播放倍速**：1.0x - 3.0x（推荐2.0x）
- **页面加载等待**：给视频充分的加载时间

**通知相关设置：**
- **显示通知**：是否显示状态通知
- **通知间隔**：通知显示的最小间隔（推荐5-10秒）

## 📋 不同场景的推荐设置

### 🎯 快速学习模式
```
视频倍速：3.0x
通知间隔：10秒
滚动速度：150px
```

### 📚 标准学习模式（推荐）
```
视频倍速：2.0x
通知间隔：5秒
滚动速度：100px
```

### 🔍 仔细学习模式
```
视频倍速：1.5x
通知间隔：3秒
滚动速度：80px
```

## 🎮 实用技巧

### 快捷键
- `Ctrl/Cmd + Shift + S`：快速启动/停止插件

### 视频处理
- ✅ 支持HTML5 `<video>` 标签
- ✅ 支持iframe嵌入视频
- ✅ 自动处理播放/暂停状态
- ✅ 智能等待视频加载完成

### 通知管理
- 🔔 重要通知（启动、停止、视频完成）始终显示
- 📢 一般通知受频率限制控制
- 🎨 不同类型通知使用不同颜色

## ⚠️ 注意事项

1. **视频交互**：某些视频可能需要用户点击才能播放，插件会尝试自动播放
2. **网络延迟**：视频加载较慢时，适当增加"页面加载等待"时间
3. **特殊页面**：部分特殊格式的视频页面可能需要手动处理
4. **性能考虑**：视频监控会占用一定系统资源，完成后会自动停止

## 🐛 故障排除

### 视频未被检测到
- 检查页面是否包含 `<video>` 标签或视频iframe
- 刷新页面重新加载插件

### 视频无法自动播放
- 某些网站需要用户交互才能播放视频
- 手动点击播放按钮，插件会接管后续处理

### 通知太多/太少
- 进入设置调整"通知间隔"
- 可以完全关闭"显示通知"（重要通知仍会显示）

## 🔧 技术说明

### 视频检测算法
1. 扫描页面中的 `<video>` 元素
2. 检测视频相关的iframe
3. 验证元素可见性和有效性
4. 持续监控播放状态

### 倍速控制
- 使用 `HTMLVideoElement.playbackRate` API
- 支持0.25倍增量调整（1.0x - 3.0x）
- 自动应用到页面所有视频

### 静音处理
- 使用 `HTMLVideoElement.muted` 属性
- 不影响系统音量设置
- 仅对当前页面视频生效

---

**享受更高效的视频学习体验！** 🚀
