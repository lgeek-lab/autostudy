# 🎓 自动学习助手

一个功能强大的Chrome浏览器插件，专为 **lms.ouchn.cn** 学习平台设计，智能识别不同内容类型（文本、视频、PDF文件），自动完成课程学习流程。

## ✨ 核心功能

### 🔄 智能内容识别
- **自动检测页面类型**：智能识别文本页、视频页、PDF文件列表
- **自适应处理**：根据内容类型自动选择最佳浏览策略
- **iframe支持**：完美支持嵌入式PDF查看器（如PDF.js）

### 📄 文本页面处理
- **平滑滚动**：自动滚动课程文本内容
- **智能容器识别**：自动找到主内容区域，避免滚动侧边栏
- **到底检测**：精确判断是否到达页面底部

### 🎥 视频内容处理  
- **自动检测**：识别页面中的视频元素
- **智能控制**：
  - 自动静音播放
  - 可配置播放倍速（1-3倍）
  - 自动等待播放完成

### 📁 文件列表处理
- **逐个浏览**：自动点击文件列表中的查看按钮
- **PDF翻页**：
  - 智能查找翻页按钮（支持多种PDF查看器）
  - 自动翻页浏览完整PDF
  - 可配置翻页速度（0.5-3秒/页）
  - 支持iframe嵌入的PDF查看器
- **完成关闭**：浏览完成后自动关闭并继续下一个

### 🎯 自动翻页
- **智能按钮查找**：支持多种"下一个"按钮格式
- **重试机制**：网络波动时自动重试（可配置1-10次）
- **等待时间**：可配置到达底部后的等待时间

## 📦 安装方法

### 开发者模式安装

1. **下载插件**
   ```bash
   # 克隆或下载项目
   cd /path/to/autostudy
   ```

2. **加载到Chrome**
   - 打开 Chrome 浏览器
   - 访问：`chrome://extensions/`
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择 `autostudy` 文件夹

3. **完成安装** ✅

## 🚀 使用指南

### 基本操作

1. **启动学习**
   - 访问 [lms.ouchn.cn](https://lms.ouchn.cn) 学习页面
   - 点击浏览器工具栏的插件图标
   - 点击"开始学习"按钮

2. **停止学习**
   - 点击插件图标
   - 点击"停止学习"按钮

3. **快捷键**
   - `Ctrl/Cmd + Shift + S`：快速切换运行状态

### 高级配置

点击插件图标 → "⚙️ 设置"，可配置：

| 配置项 | 默认值 | 说明 | 推荐范围 |
|--------|--------|------|----------|
| **滚动速度** | 100px | 每次滚动的距离 | 80-150px |
| **滚动间隔** | 200ms | 两次滚动间隔时间 | 200-400ms |
| **底部等待** | 3秒 | 到底后等待时间 | 3-5秒 |
| **PDF翻页速度** | 1000ms | PDF翻页间隔 | 500-3000ms |
| **最大重试次数** | 5次 | 查找按钮失败重试 | 3-10次 |
| **页面加载等待** | 4秒 | 新页面加载时间 | 3-8秒 |
| **视频播放倍速** | 2.0x | 视频播放速度 | 1.0-3.0x |
| **通知间隔** | 5秒 | 通知最小间隔 | 3-30秒 |

## 🎯 使用场景

### 场景一：纯文本课程
```
启动插件 → 自动滚动浏览 → 到达底部 → 自动点击下一个 → 继续下一页
```

### 场景二：视频课程
```
启动插件 → 检测视频 → 自动静音+倍速 → 等待播放完成 → 自动点击下一个
```

### 场景三：文件列表页面
```
启动插件 → 识别文件列表 → 逐个点击查看 → PDF自动翻页 → 关闭文件 → 继续下一个
```

### 场景四：混合内容
```
自动识别每页类型 → 采用最佳策略 → 完成后自动翻页 → 循环处理
```

## 💡 使用技巧

### 速度设置建议
- **快速浏览**：滚动速度150px，间隔200ms
- **正常学习**：滚动速度100px，间隔300ms
- **仔细阅读**：滚动速度80px，间隔500ms

### PDF设置建议
- **快速翻阅**：翻页间隔500-800ms
- **正常浏览**：翻页间隔1000-1500ms
- **慢速阅读**：翻页间隔2000-3000ms

### 网络较慢时
- 增加"页面加载等待"到6-8秒
- 增加"最大重试次数"到8-10次
- 增加"底部等待时间"到5秒

### 视频课程
- 倍速设置：1.5-2.5倍效果最佳
- 会自动静音，不影响学习体验
- 可以随时暂停查看重要内容

## 🔧 技术特性

### 架构设计
- **Manifest V3**：使用最新的Chrome扩展标准
- **模块化设计**：功能分离，易于维护
- **状态管理**：智能状态跟踪，避免冲突

### 智能识别
```javascript
// 页面类型识别系统
- 视频页：检测 <video> 元素
- 文件列表：检测文件查看按钮
- PDF：检测 PDF.js 容器
- 文本页：默认处理
```

### 容器检测
```javascript
// 多层级容器检测
1. 主文档查找
2. iframe文档查找
3. 动态容器查找
4. 智能回退机制
```

### 性能优化
- ✅ 减少不必要的DOM查询
- ✅ 智能日志输出（减少控制台负担）
- ✅ 事件节流处理
- ✅ 内存泄漏防护

## 📁 项目结构

```
autostudy/
├── manifest.json          # 插件配置（Manifest V3）
├── background.js          # 后台服务脚本
├── content.js             # 内容脚本（核心功能）
├── popup.html/css/js      # 控制面板
├── options.html/css/js    # 设置页面
├── icons/                 # 插件图标
└── README.md              # 说明文档
```

## ❓ 常见问题

<details>
<summary><b>Q: 插件无法启动？</b></summary>

**A:** 
1. 确保在 `lms.ouchn.cn` 域名下
2. 刷新页面后重试
3. 检查浏览器控制台是否有错误
</details>

<details>
<summary><b>Q: PDF文件无法翻页？</b></summary>

**A:** 
1. 检查PDF是否已完全加载
2. 查看控制台日志，确认是否找到翻页按钮
3. 某些特殊PDF查看器可能不支持，会自动回退到快速浏览
</details>

<details>
<summary><b>Q: 视频无法正常播放？</b></summary>

**A:** 
1. 插件会自动静音，不会影响播放
2. 如需听音频，请在启动插件前手动播放
3. 倍速设置过高可能影响视频质量
</details>

<details>
<summary><b>Q: 滚动太快或太慢？</b></summary>

**A:** 
进入设置页面，调整"滚动速度"和"滚动间隔"：
- 太快：降低速度或增加间隔
- 太慢：提高速度或减少间隔
</details>

<details>
<summary><b>Q: 为什么有些文件不能自动查看？</b></summary>

**A:** 
可能原因：
1. 文件列表按钮格式特殊，无法识别
2. 文件需要下载而非在线预览
3. 权限限制无法访问

解决方法：手动点击查看，插件会自动处理后续流程
</details>

## ⚠️ 重要说明

### 使用建议
- ✅ 建议配合正常学习使用，不要完全依赖自动化
- ✅ 重要内容请暂停仔细阅读
- ✅ 定期休息，保护视力
- ✅ 遵守学习平台的使用规则

### 功能限制
- ❌ 不支持需要交互的测验题
- ❌ 不支持需要输入的表单
- ❌ 不支持需要验证码的页面
- ❌ 某些特殊格式的PDF可能无法翻页

## 📝 更新日志

### v2.0.0 (2025-10-30) 🎉
- ✨ 新增PDF文件自动翻页功能
- ✨ 新增视频自动播放（静音+倍速）
- ✨ 新增文件列表自动处理
- ✨ 新增iframe中PDF支持
- ✨ 新增智能页面类型识别
- 🎨 优化日志输出，减少冗余信息
- 🐛 修复多处bug
- ⚡ 性能优化

### v1.0.0 (2025-10-19)
- 🎉 初始版本发布
- ✅ 基础滚动功能
- ✅ 自动翻页功能
- ✅ 可视化设置面板

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 💖 支持项目

如果这个插件帮助到你，欢迎：
- ⭐ Star本项目
- 🐛 报告Bug
- 💡 提出改进建议
- 📣 分享给需要的同学

---

**祝您学习愉快！📚✨**

*让学习更高效，让进步更轻松！*
